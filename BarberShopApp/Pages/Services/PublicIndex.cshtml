@page "/servicios-publicos"
@model BarberShopApp.Pages.Services.PublicIndexModel

@{
    ViewData["Title"] = "Nuestros Servicios y Tarifas";
    // Si usas un layout específico para el cliente, descomenta la línea de abajo:
    // Layout = "_LayoutPublico";
}

<div class="container my-5">

    <header class="text-center mb-5 pb-3">
        <h1 class="display-5 fw-bold text-dark">
            <i class="bi bi-scissors me-3 text-dark"></i> Servicios Exclusivos
        </h1>
        <p class="lead text-muted mt-3">
            Explora nuestros cortes, tratamientos y precios. Nuestro compromiso es la calidad y el estilo.
        </p>
        <hr class="w-50 mx-auto border-dark opacity-25" />
    </header>


    @if (Model.Service.Any())
    {
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            @foreach (var item in Model.Service)
            {
                <div class="col">
                    <div class="card h-100 shadow-lg border-0 rounded-4 overflow-hidden service-card-public">

                        <div class="card-body d-flex flex-column p-4">

                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h4 class="card-title fw-bolder text-dark mb-0">@item.Name</h4>
                                <span class="badge bg-secondary text-white p-2">
                                    <i class="bi bi-clock-fill me-1"></i> @item.DurationMinutes min.
                                </span>
                            </div>

                            <p class="card-text text-muted flex-grow-1 small border-bottom pb-3">
                                @Html.DisplayFor(modelItem => item.Description)
                            </p>

                            <div class="d-flex justify-content-between align-items-center mt-3 mb-4">
                                <span class="text-muted fw-bold">Precio:</span>
                                <span class="fs-3 fw-bolder text-success">
                                    @item.Price.ToString("C") @* Formato de moneda *@
                                </span>
                            </div>

                            <a asp-page="/Appointments/Create"
                               asp-route-serviceId="@item.ServiceId"
                               class="btn btn-dark btn-lg mt-auto shadow">
                                ¡Reservar Ahora! <i class="bi bi-calendar-plus ms-2"></i>
                            </a>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <div class="alert alert-warning text-center rounded-3 p-4">
            <h4 class="alert-heading text-dark fw-bold">
                <i class="bi bi-info-circle-fill me-2"></i> ¡Aún no hay servicios disponibles!
            </h4>
            <p class="mb-0">Vuelve pronto o contacta al administrador para conocer el menú de servicios.</p>
        </div>
    }
</div>